<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<toolkitModel xmlns="http://www.ibm.com/xmlns/prod/streams/spl/toolkit" productVersion="4.2.0.0" xmlns:common="http://www.ibm.com/xmlns/prod/streams/spl/common" xmlns:ti="http://www.ibm.com/xmlns/prod/streams/spl/toolkitInfo" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <toolkit name="com.ibm.streamsx.elasticsearch" requiredProductVersion="4.1.0.0" version="1.0.0">
    <description/>
    <uriTable>
      <uri index="1" value="com.ibm.streamsx.elasticsearch/ElasticsearchSink"/>
    </uriTable>
    <namespace name="com.ibm.streamsx.elasticsearch">
      <primitiveOp language="Java" modelUriIndex="1" name="ElasticsearchSink" public="true">
        <description>The ElasticsearchSink operator receives incoming tuples and outputs the attribute's name-value pairs to an Elasticsearch database.

The ElasticsearchSink requires a hostname and hostport of an Elasticsearch server to connect to.

By default, the hostname is 'localhost', and the hostport is 9300. This configuration can be changed in the parameters.

An index and type must also be specified. The id is optional and ifnot specified, it is auto-generated.

A timestampName can optionally be specified for time-based queries to create time-series charts that display how a tuple's attribute value changes over time.

Once the data is outputted to Elasticsearch, the user can query the database and create custom graphs to display this data with graphing tools such as Grafana and Kibana.

</description>
        <parameter expressionMode="Constant" name="vmArg" optional="true" type="rstring">
          <description>
Specifies command-line arguments that are passed to the Java virtual machine that the operator runs within.
</description>
        </parameter>
        <parameter cardinality="1" expressionMode="AttributeFree" name="bulkSize" optional="true" type="int32">
          <description>Specifies the size of the bulk to submit to Elasticsearch.</description>
        </parameter>
        <parameter cardinality="1" expressionMode="AttributeFree" name="hostName" optional="true" type="rstring">
          <description>Specifies the hostname of the Elasticsearch server (default: localhost).</description>
        </parameter>
        <parameter cardinality="1" expressionMode="AttributeFree" name="hostPort" optional="true" type="int32">
          <description>Specifies the hostport of the Elasticsearch server (default: 9300).</description>
        </parameter>
        <parameter cardinality="1" expressionMode="AttributeFree" name="idName" optional="true" type="rstring">
          <description>Specified the name for the id. If not specified, id is auto-generated.</description>
        </parameter>
        <parameter cardinality="1" expressionMode="AttributeFree" name="indexName" optional="false" type="rstring">
          <description>Specifies the name for the index.</description>
        </parameter>
        <parameter cardinality="1" expressionMode="AttributeFree" name="reconnectionPolicyCount" optional="true" type="int32">
          <description>Specifies the number of times to attempt reconnection to the Elasticsearch server, upon disconnection.</description>
        </parameter>
        <parameter cardinality="1" expressionMode="AttributeFree" name="timestampName" optional="true" type="rstring">
          <description>Specifies the name for the timestamp attribute.</description>
        </parameter>
        <parameter cardinality="1" expressionMode="AttributeFree" name="typeName" optional="false" type="rstring">
          <description>Specifies the name for the type.</description>
        </parameter>
        <inputPort maxNumPorts="1" minNumPorts="1" optional="false" windowPunctInputMode="Oblivious">
          <description>Port that ingests tuples</description>
          <windowPolicy>NonWindowed</windowPolicy>
        </inputPort>
      </primitiveOp>
    </namespace>
    <sabFiles>
      <ti:include path="toolkit.xml" root="toolkitDir"/>
      <ti:include path="impl/java/lib/**" root="toolkitDir"/>
      <ti:include path="impl/java/bin/**" root="toolkitDir"/>
      <ti:include path="impl/bin/**" root="toolkitDir"/>
      <ti:include path="impl/lib/**" root="toolkitDir"/>
      <ti:include path="impl/nl/*.dat" root="toolkitDir"/>
      <ti:include path="etc/**" root="toolkitDir"/>
      <ti:include path="lib/**" root="toolkitDir"/>
      <ti:include path="nl/**" root="toolkitDir"/>
      <ti:include path="opt/**" root="toolkitDir"/>
    </sabFiles>
  </toolkit>

</toolkitModel>
